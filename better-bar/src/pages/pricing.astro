---
import { getEntry } from "astro:content";
import PageLayout from "../layouts/PageLayout.astro";

const entry = await getEntry("pricing", "plans");
if (!entry) {
  throw new Error("Missing pricing content.");
}

const { tiers, includes } = entry.data;
---

<PageLayout
  title="Pricing | Autonomous Front Desk for Tradies"
  description="Transparent pricing for AI call answering and booking for tradies."
  eyebrow="Pricing"
  heroTitle="Straightforward pricing that pays for itself"
  heroSubtitle="Convert more calls, reduce missed jobs, and keep costs predictable."
>
  <div class="grid gap-10 md:grid-cols-2">
    {tiers.map((tier, index) => (
      <section
        class={`hover-glow reveal rounded-2xl border border-neutral-800 p-8 ${
          index === 0 ? "accent-panel" : "bg-neutral-900/40"
        }`}
        data-reveal
        style={`--reveal-delay: ${0.1 + index * 0.12}s;`}
      >
        <h2 class="text-xl font-semibold">{tier.name}</h2>
        <p class="mt-3 text-neutral-300">{tier.summary}</p>
        <a
          class="cta-button mt-6 inline-flex rounded-full border border-[rgba(212,175,55,0.6)] px-5 py-2 text-xs font-semibold uppercase tracking-widest text-[#f5f2e9] hover:border-[rgba(212,175,55,0.9)]"
          href="/pricing"
        >
          {tier.ctaLabel ?? "Book Demo"}
        </a>
        <p class="mt-6 text-3xl font-semibold">{tier.priceText}</p>
        {tier.notes && <p class="mt-2 text-sm text-neutral-400">{tier.notes}</p>}
      </section>
    ))}
  </div>
  <div class="mt-12 reveal" data-reveal style="--reveal-delay: 0.15s;">
    <h2 class="text-2xl font-semibold">What is included</h2>
    <ul class="mt-4 grid gap-3 text-neutral-300 md:grid-cols-2">
      {includes.map((item, index) => (
        <li class={index === 0 ? "accent-text" : ""}>{item}</li>
      ))}
    </ul>
  </div>
</PageLayout>
