---
import { getCollection } from "astro:content";
import PageLayout from "../../layouts/PageLayout.astro";

const posts = await getCollection("blog", ({ data }) => !data.draft);
---

<PageLayout
  title="Blog | Autonomous Front Desk for Tradies"
  description="Pain-driven SEO content for tradies and service businesses."
  eyebrow="Blog"
  heroTitle="Answers that win jobs"
  heroSubtitle="Practical insights for tradies who rely on the phone to grow."
>
  <div class="grid gap-6">
    {posts.map((post, index) => (
      <article
        class:list={[
          "rounded-2xl p-6 glass-surface",
          index === 0 ? "accent-panel" : "",
          "reveal",
          "hover-glow",
        ]}
        data-reveal
        style={`--reveal-delay: ${0.08 + index * 0.08}s;`}
      >
        <h2 class="text-xl font-semibold">
          <a class="hover:text-neutral-100" href={`/blog/${post.slug}`}>
            {post.data.title}
          </a>
        </h2>
        <p class="mt-3 text-secondary">{post.data.description}</p>
        <a
          class="mt-4 inline-flex text-xs uppercase tracking-[0.3em] text-muted hover:text-neutral-100"
          href={`/blog/${post.slug}`}
        >
          Read more
        </a>
      </article>
    ))}
  </div>
</PageLayout>
