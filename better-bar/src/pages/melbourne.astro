---
import { getEntry } from "astro:content";
import PageLayout from "../layouts/PageLayout.astro";
import { localBusinessSchema } from "../lib/schema";

const entry = await getEntry({ collection: "locations", slug: "melbourne" });
if (!entry) {
  throw new Error("Missing location content for Melbourne.");
}

const { title, description, heroTitle, heroSubtitle, highlights } = entry.data;
---

<PageLayout
  title={`${title} | Autonomous Front Desk for Tradies`}
  description={description}
  eyebrow="Melbourne"
  heroTitle={heroTitle}
  heroSubtitle={heroSubtitle}
  ctaLabel="Book a demo in Melbourne"
  schema={localBusinessSchema({
    description,
    areaServed: "Melbourne, Australia",
  })}
>
  <div class="grid gap-10 md:grid-cols-2">
    <section
      class="accent-panel glass-surface hover-glow reveal rounded-2xl p-8"
      data-reveal
      style="--reveal-delay: 0.1s;"
    >
      <h2 class="text-xl font-semibold">Why Melbourne tradies miss calls</h2>
      <p class="mt-3 text-secondary">
        Seasonal spikes and busy crews mean inbound calls go unanswered at the worst times.
      </p>
    </section>
    <section
      class="glass-surface hover-glow reveal rounded-2xl p-8"
      data-reveal
      style="--reveal-delay: 0.22s;"
    >
      <h2 class="text-xl font-semibold">How AI handles Melbourne peaks</h2>
      <p class="mt-3 text-secondary">
        Capture job details, reduce no-shows, and keep schedules accurate.
      </p>
    </section>
  </div>
  <div class="mt-12 reveal" data-reveal style="--reveal-delay: 0.2s;">
    <h2 class="text-2xl font-semibold">Built for Melbourne trades</h2>
    <ul class="mt-4 grid gap-3 text-secondary md:grid-cols-2">
      {highlights.map((item, index) => (
        <li class={index === 0 ? "accent-text" : ""}>{item}</li>
      ))}
    </ul>
  </div>
</PageLayout>
